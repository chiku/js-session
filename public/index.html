<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=1024, user-scalable=no">

  <meta name="author" content="Chirantan Mitra" />
  <meta name="company" content="ThoughtWorks" />

  <title>JavaScript Introduction</title>

  <!-- Required stylesheet -->
  <link rel="stylesheet" href="core/deck.core.css">

  <!-- Extension CSS files go here. Remove or add as needed. -->
  <link rel="stylesheet" media="screen" href="extensions/goto/deck.goto.css">
  <link rel="stylesheet" media="screen" href="extensions/menu/deck.menu.css">
  <link rel="stylesheet" media="screen" href="extensions/navigation/deck.navigation.css">
  <link rel="stylesheet" media="screen" href="extensions/status/deck.status.css">
  <link rel="stylesheet" media="screen" href="extensions/hash/deck.hash.css">
  <link rel="stylesheet" media="screen" href="extensions/scale/deck.scale.css">
  <link rel="stylesheet" href="extensions/codemirror/deck.codemirror.css">
  <link rel="stylesheet" href="extensions/codemirror/themes/default.css">

  <!-- Style theme. More available in /themes/style/ or create your own. -->
  <link rel="stylesheet" media="screen" href="themes/style/web-2.0.css">

  <!-- Transition theme. More available in /themes/transition/ or create your own. -->
  <link rel="stylesheet" media="screen" href="themes/transition/fade.css">

  <!-- Basic black and white print styles -->
  <link rel="stylesheet" media="print" href="core/print.css">

  <!-- Required Modernizr file -->
  <script src="modernizr.custom.js"></script>
</head>
<body>
  <div class="deck-container">

    <!-- Begin slides. Just make elements with a class of slide. -->

    <section class="slide">
      <h1>JavaScript Introduction</h1>
    </section>

    <section class="slide">
      <h2>Requirements</h1>
      <h3>Recent version</h3>
      <ul>
        <li>Firefox + firebug</li>
        <li>Google chrome / chromium</li>
      </ul>
    </section>

    <section class="slide">
      <h2>References</h2>
      <ol>
          <li>Douglas Crockford - JavaScript The Good Parts</li>
      </ol>
    </section>

    <section class="slide">
      <h2>Basic objects</h2>
      <ol>
        <li>Number</li>
        <li>String</li>
        <li>Boolean</li>
        <li>Undefined</li>
        <li>Function</li>
        <li>Object</li>
      </ol>
      <h3>Value type vs Reference type</h3>
    </section>

    <section class="slide">
      <div><textarea class="code" mode="javascript" runnable="true">console.log(typeof 1);</textarea></div>
      <div><textarea class="code" mode="javascript" runnable="true">console.log(typeof 1.0);</textarea></div>
      <div><textarea class="code" mode="javascript" runnable="true">console.log(typeof "a");</textarea></div>
      <div><textarea class="code" mode="javascript" runnable="true">console.log(typeof undefined);</textarea></div>
      <div><textarea class="code" mode="javascript" runnable="true">console.log(typeof {});</textarea></div>
    </section>

    <section class="slide">
      <div><textarea class="code" mode="javascript" runnable="true">console.log(typeof alert);</textarea></div>
      <div><textarea class="code" mode="javascript" runnable="true">console.log(typeof window);</textarea></div>
      <div><textarea class="code" mode="javascript" runnable="true">console.log(typeof null);</textarea></div>
      <div><textarea class="code" mode="javascript" runnable="true">console.log(typeof [1, 2, 3]);</textarea></div>
      <div><textarea class="code" mode="javascript" runnable="true">console.log(typeof new Date(2014, 0, 1));</textarea></div>
    </section>

    <section class="slide">
      <h2>Object access</h2>
      <div>
        <textarea class="code" mode="javascript">
          var person = {
            name: "Sabu",
            age: 40
          };
        </textarea>
      </div>
      <li>
        Dot notation<div><textarea class="code" mode="javascript">person.name;</textarea></div>
      </li>
      <li>
        Square notation<div><textarea class="code" mode="javascript">person["name"]</textarea></div>
      </li>
    </section>

    <section class="slide">
      <h2>Numbers</h2>
      <li>All numbers are double precision numbers</li>
      <li>Integers are accurate when inside 10<sup>53</sup></li>
      <li>Special numbers</li>
      <ul>
        <li>NaN</li>
        <li>+Infinity</li>
        <li>-Infinity</li>
      </ul>
    </section>

    <section class="slide">
      <h2>Auto-boxing</h2>
      <div>
        <textarea class="code" mode="javascript" runnable="true">
          var x = 1.2;
          console.log(x.toString());
        </textarea>
      </div>

      <div>
        <textarea class="code" mode="javascript" runnable="true">
          var x = (1.2).toString();
          console.log(x);
        </textarea>
      </div>

      <h3>However</h3>
      <div>
        <textarea class="code" mode="javascript" runnable="true">
          var x = 1.2;
          x.foo = "bar";
          console.log(x.foo);
        </textarea>
      </div>
    </section>

    <section class="slide">
      <h2>Enumeration - Array</h2>
      <div>
        <textarea class="code" mode="javascript" runnable="true">
          var array = [10, 20, 30, 40, 50];
          var i, sum = 0;
          for (i = 0; i &lt; array.length; i += 1) {
              sum += array[i];
          }
          console.log(sum);
        </textarea>
      </div>

      <div>
        <textarea class="code" mode="javascript" runnable="true">
          var array = [10, 20, 30, 40, 50];
          var element, sum = 0, key;
          for (key in array) {
              if (array.hasOwnProperty(key)) {
                  sum += array[key];
              }
          }
          console.log(sum);
        </textarea>
      </div>

      <div>
        <textarea class="code" mode="javascript" runnable="true">
          var array = [10, 20, 30, 40, 50];
          // cache array.length - Useful if array is a DOM collection
          var len = array.length, i, sum = 0;
          for (i = 0; i &lt; len; i += 1) {
              sum += array[i];
          }
          console.log(sum);
        </textarea>
      </div>
    </section>

    <section class="slide">
      <h2>Typing</h2>
      <h3>Dynamic</h3>
      <h3>Weakly</h3>
    </section>

    <section class="slide">
      <h2>Scoping</h2>
      <h3>Types</h3>
      <ol>
        <li>Lexical</li>
        <li>Dynamic</li>
        <li>Unscoped</li>
      </ol>
      <h3>Function scope vs block scope</h3>
    </section>

    <section class="slide">
      <h2>Reduce global scope pollution</h2>
      <h3>These create global scopes</h3>
      <ul>
        <li class="slide">
          var at top/global level
          <div><textarea class="code" mode="javascript">var a = 10;</textarea></div>
        </li>
        <li class="slide">
          Implicit decleration
          <div><textarea class="code" mode="javascript">b = 10;</textarea></div>
        </li>
        <li class="slide">
          Attach property to global object
          <div><textarea class="code" mode="javascript">window.c = 30;</textarea></div>
        </li>
        <li class="slide">Attaching properties to Object.prototype
          <div>
            <textarea class="code" mode="javascript" runnable="true">
              Object.prototype.foo = 100;
              Object.prototype.bar = function() {
                console.log(foo);
              };
              bar();
            </textarea>
          </div>
        </li>
      </ul>
    </section>

    <section class="slide">
      <h1>eval is evil</h1>
    </section>

    <section class="slide">
      <h1>Avoid with</h1>
    </section>

    <section class="slide">
      <h2>Equality</h2>
      <h3>Don't use == or !=</h3>
      <h3>Instead use === or !==</h3>
    </section>

    <section class="slide">
      <h2>Automatic semicolon insertions</h2>
    </section>

    <section class="slide">
      <h2>Fragile parsing in IE</h2>
      <div><textarea class="code" mode="javascript" runnable="true">console.log({a: 10, b: 20,});</textarea></div>
      <h3>Trailing comma</h3>
    </section>

    <section class="slide">
      <h2>Lint your JavaScript</h2>
      <h3>Use JSLint or JSHint</h3>
    </section>

    <section class="slide">
      <h2>Use ECMAScript 5 strict mode</h2>
      <div>
        <textarea class="code" mode="javascript" runnable="true">
          try {
            a = 10;
          } catch(ex) {
            console.log(ex.toString());
          }
        </textarea>
      </div>
      <div class="slide">
        <h3>Versus</h3>
        <textarea class="code" mode="javascript" runnable="true">
          "use strict";
          try {
            a = 10;
          } catch(ex) {
            console.log(ex.toString());
          }
        </textarea>
      </div>
    </section>

    <section class="slide">
      <h2>new</h2>
      <h3>When new foo(), is executed the following things happen</h3>
      <ul>
        <li>A new object inherited from foo.prototype is created</li>
        <li>The constructor function foo is called with the given arguments - "this" bound to above object</li>
        <li>The object returned by constructor function is returned (if no explicit return present)</li>
      </ul>
    </section>

    <section class="slide">
      <h2>Global namespace pollution</h2>
      <div>
        <textarea class="code" mode="javascript" runnable="true">
          var Foo = function(bar, baz) {
            this.bar = bar;
            this.baz = baz;
          };
          var f = Foo("bar", "baz"); // forgot to prefix new
          console.log(f.bar);
          console.log(f.baz);
        </textarea>
      </div>

      <div>
        <h2>new agnostic constructor</h2>
        <textarea class="code" mode="javascript" runnable="true">
          var Foo = function(bar, baz) {
            if (!(this instanceof Foo)) {
              return new Foo(bar, baz);
            }
            this.bar = bar;
            this.baz = baz;
          };
          var f = Foo("bar", "baz");
          console.log(f.bar);
          console.log(f.baz);
        </textarea>
      </div>
    </section>

    <section class="slide">
      <h2>Prototype inheritance</h2>
      <h3>prototype</h3>
      <h3>Object.getPrototypeOf / __proto__</h3>
      <h3>Object.create()</h3>
      <div>
        <textarea class="code" mode="javascript" runnable="true">
          var a = {};
          var b = Object.create(a);
          var c = Object.create(a);
          var d = Object.create(b);
          console.log(Object.getPrototypeOf(b) === a);
          console.log(Object.getPrototypeOf(c) === a);
          console.log(Object.getPrototypeOf(d) === b);
          console.log(Object.getPrototypeOf(d) === c);
          console.log(Object.getPrototypeOf(a) === Object.prototype);
          console.log(Object.getPrototypeOf(c) === Object.prototype);
          console.log(Object.getPrototypeOf([]) === Array.prototype);
        </textarea>
      </div>
    </section>

    <section class="slide">
      <h2>Polyfill for ES3</h2>
      <h4><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/create" target="_blank">https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/create</a></h4>
      <div>
        <textarea class="code" mode="javascript">
          if (!Object.create) {
            Object.create = (function(){
              function F() {}

              return function(o){
                if (arguments.length !== 1) {
                    throw new Error("Object.create implementation only accepts one parameter.");
                }
                F.prototype = o;
                return new F();
              }
            }());
          }
        </textarea>
      </div>
    </section>

    <section class="slide">
      <h2>5 ways to call functions</h2>
      <h3><a href="http://devlicio.us/blogs/sergio_pereira/archive/2009/02/09/javascript-5-ways-to-call-a-function.aspx" target="_blank">http://devlicio.us/blogs/sergio_pereira/archive/2009/02/09/javascript-5-ways-to-call-a-function.aspx</a></h3>
    </section>

    <section class="slide">
      <h3>1. Global call</h3>
        <div>
          <textarea class="code" mode="javascript" runnable="true">
            var sum = function (basket){
              if (this === window) {
                console.log("this binds to global object");
              }
              var length = basket.length, sum=0, i;
              for(i = 0; i &lt; length; i += 1) {
                sum += basket[i].price;
              }
              return sum;
            };
            var items = [
              {name: "mango", price: 100},
              {name: "apple", price: 200},
              {name: "watermelon", price: 50}
            ];
            console.log(sum(items));
          </textarea>
      </div>
    </section>

    <section class="slide">
      <h3>2. Method invocation</h3>
      <div>
        <textarea class="code" mode="javascript" runnable="true">
          var basket = {
            items: [],
            init: function(items) {
              this.items = items;
            },
            sum: function () {
              if (this === window) {
                console.log("this binds to global object");
              }
              console.log("this =>", this);
              var i, length = this.items.length, sum=0;
              for(i = 0; i &lt; length; i += 1) {
                sum += this.items[i].price;
              }
              return sum;
            }
          };
          var items = [
            {name: "mango", price: 100},
            {name: "apple", price: 200},
            {name: "watermelon", price: 50}
          ];
          basket.init(items);
          console.log(basket.sum());
        </textarea>
      </div>
    </section>

    <section class="slide">
      <h3>3. Call</h3>
      <h3>4. Apply</h3>
      <div>
        <textarea class="code" mode="javascript" runnable="true">
          var basket = {
            sum: function (property) {
              console.log("this =>", this);
              console.log("property => ", property);
              var i, length = this.length, sum=0;
              for(i = 0; i &lt; length; i += 1) {
                sum += this[i].price;
              }
              return sum;
            }
          };
          var items = [
            {name: "papaya", price: 100},
            {name: "apple", price: 200},
            {name: "watermelon", price: 50}
          ];
          console.log("**Call**");
          console.log(basket.sum.call(items, "price"));
          console.log("**Apply**");
          console.log(basket.sum.apply(items, ["price"]));
        </textarea>
      </div>
    </section>

    <section class="slide">
      <h3>5. Constructor</h3>
      <div>
        <textarea class="code" mode="javascript" runnable="true">
          var Basket = function(items, property) {
            this.items = items;
            this.property = property;
          };
          Basket.prototype.sum = function () {
            var length = this.items.length,
                property = this.property,
                sum=0,
                i;
            for(i = 0; i &lt; length; i += 1) {
              sum += this.items[i][property];
            }
            return sum;
          };
          var items = [
            {name: "papaya", price: 100},
            {name: "apple", price: 200},
            {name: "watermelon", price: 50}
          ];
          var b = new Basket(items, "price");
          console.log(b.sum());
        </textarea>
      </div>
    </section>

    <section class="slide">
      <h2>Hoisting</h2>
      <div>
        <textarea class="code" mode="javascript" runnable="true">
          fasterThan = function (animal, otherAnimals) {
            var fastestAmongOthers = otherAnimals[0];
            for(var i = 0; i &lt; otherAnimals.length; i += 1) {
              var animal = otherAnimals[i];
              if (animal.speed &gt; fastestAmongOthers.speed) {
                fastestAmongOthers = animal;
              }
            }
            return animal.speed &gt; fastestAmongOthers.speed;
          };
          var animals = [
            {name: "elephant", speed: 50},
            {name: "laser koala", speed: 5}
          ];
          console.log("cow", fasterThan({name: "cow", speed: 40}, animals));
          console.log("cheetah", fasterThan({name: "cheetah", speed: 130}, animals));
        </textarea>
      </div>
    </section>

    <section class="slide">
      <h2>Move all declerations to top</h2>
      <div>
        <textarea class="code" mode="javascript" runnable="true">
          fasterThan = function (animal, otherAnimals) {
            var fastestAmongOthers = otherAnimals[0],
                anAnimal,
                i;
            for(i = 0; i &lt; otherAnimals.length; i += 1) {
              anAnimal = otherAnimals[i];
              if (anAnimal.speed &gt; fastestAmongOthers.speed) {
                fastestAmongOthers = anAnimal;
              }
            }
            return animal.speed &gt; fastestAmongOthers.speed;
          };
          var animals = [
            {name: "elephant", speed: 50},
            {name: "laser koala", speed: 5}
          ];
          console.log("cow", fasterThan({name: "cow", speed: 40}, animals));
          console.log("cheetah", fasterThan({name: "cheetah", speed: 130}, animals));
        </textarea>
      </div>
    </section>

    <section class="slide">
      <h2>More about functions</h2>
      <h3 class="slide">arguments</h3>
      <h3 class="slide">caller</h3>
      <h3 class="slide">callee</h3>
      <h3 class="slide">console.stacktrace()</h3>
    </section>

    <section class="slide">
      <h2>Exceptions</h2>
      <h3>Include property</h3>
      <ul>
        <li>name</li>
        <li>message</li>
      </ul>
    </section>

    <section class="slide">
      <h2>forEach, map, filter, reduce</h2>
      <div>
        <textarea class="code" mode="javascript" runnable="true">
          var array = [10, 20, 30, 40, 50], sum = 0;
          array.forEach(function (element) {
              sum += element;
          });
          console.log(sum);
        </textarea>
      </div>

      <div class="slide">
        <textarea class="code" mode="javascript" runnable="true">
          var array = [10, 20, 30, 40, 50],
              sum = array.reduce(function (acc, element) {
                return acc + element;
              }, 0);
          console.log(sum);
        </textarea>
      </div>
    </section>

    <section class="slide">
      <h2>Immediately executing function</h2>
      <textarea class="code" mode="javascript" runnable="true">
        (function() {
          var foo = 10, bar = 20;
          console.log(foo + bar);
        }());
      </textarea>
    </section>

    <section class="slide">
      <h2>Closure</h2>

      <div>
        <textarea class="code" mode="javascript" runnable="true">
          var addInteger = function(n) {
            return function (x) {
              return n + x;
            }
          };

          var addTwo = addInteger(2);
          var addTen = addInteger(10);
          console.log(addTwo(2), addTwo(-2));
          console.log(addTen(2), addTen(-2));
        </textarea>
      </div>
    </section>

    <section class="slide">
      <h2>Module pattern</h2>

      <textarea class="code" mode="javascript" runnable="true">
        var colours = function(rgb) {
          var darkenColour = function(colour) {
              return colour * 0.9;
            },
            darkenedRed = darkenColour(rgb.red),
            darkenedBlue = darkenColour(rgb.blue),
            darkenedGreen = darkenColour(rgb.green);

          return {
            dark: {
              red: darkenedRed,
              blue: darkenedBlue,
              green: darkenedGreen
            }
          };
        };

        console.log(colours({red: 100, blue: 150, green: 200}).dark);
      </textarea>
    </section>

    <section class="slide">
      <h2>Jasmine</h2>
      <iframe src="jasmine-example.html" height="250px" width="600px">
      </iframe>
    </section>

    <section class="slide">
      <h2>By: Chirantan Mitra</h1>
      <h2>Hosted at: <a href="http://js-session.herokuapp.com" target="_blank">http://js-session.herokuapp.com</a></h2>
      <h2>Code at: <a href="http://github.com/chiku/js-session" target="_blank">http://github.com/chiku/js-session</a></h2>
      <h2>Pull requests are welcome!</h2>
    </section>

    <section class="slide">
      <h1>* * * * * * * * * *</h1>
    </section>

    <!-- End slides. -->

  <!-- Begin extension snippets. Add or remove as needed. -->
    <!-- deck.navigation snippet -->
    <a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
    <a href="#" class="deck-next-link" title="Next">&#8594;</a>

    <!-- deck.status snippet -->
    <p class="deck-status">
      <span class="deck-status-current"></span>
      /
      <span class="deck-status-total"></span>
    </p>

    <!-- deck.goto snippet -->
    <form action="." method="get" class="goto-form">
      <label for="goto-slide">Go to slide:</label>
      <input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
      <datalist id="goto-datalist"></datalist>
      <input type="submit" value="Go">
    </form>

    <!-- deck.hash snippet -->
    <a href="." title="Permalink to this slide" class="deck-permalink">#</a>

    <!-- End extension snippets. -->
  </div>

  <!-- Required JS files. -->
  <script src="jquery.min.js"></script>
  <script src="core/deck.core.js"></script>

  <!-- Extension JS files. Add or remove as needed. -->
  <script src="core/deck.core.js"></script>
  <script src="extensions/hash/deck.hash.js"></script>
  <script src="extensions/menu/deck.menu.js"></script>
  <script src="extensions/goto/deck.goto.js"></script>
  <script src="extensions/status/deck.status.js"></script>
  <script src="extensions/navigation/deck.navigation.js"></script>
  <script src="extensions/scale/deck.scale.js"></script>

  <!-- Base codemiror code -->
  <script src="extensions/codemirror/codemirror.js"></script>

  <!-- Syntax highlighting Modes -->

  <!-- javascript -->
  <script src="extensions/codemirror/mode/javascript/javascript.js"></script>

  <!-- html mode (note html mode requires xml, css and javascript) -->
  <script src="extensions/codemirror/mode/xml/xml.js"></script>
  <script src="extensions/codemirror/mode/css/css.js"></script>
  <script src="extensions/codemirror/mode/htmlmixed/htmlmixed.js"></script>

  <!-- Plugin code -->
  <script src="extensions/codemirror/deck.codemirror.js"></script>

  <!-- Initialize the deck. You can put this in an external file if desired. -->
  <script>
    $(function() {
      $.deck('.slide');
    });
  </script>
</body>
</html>
